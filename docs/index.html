<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>キッチン手順 確認アプリ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .container {
            max-width: 600px;
            margin: 2rem auto;
            padding: 1.5rem;
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            text-align: center;
        }
        .btn-base {
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            border-radius: 9999px;
            transition: all 0.2s ease-in-out;
            border: 2px solid transparent;
        }
        .btn-primary {
            background-color: #3b82f6;
            color: #ffffff;
        }
        .btn-primary:hover {
            background-color: #2563eb;
            transform: translateY(-2px);
        }
        .btn-secondary {
            background-color: #e5e7eb;
            color: #1f2937;
        }
        .menu-item-btn {
            width: 100%;
            text-align: left;
            background-color: #f3f4f6;
            color: #1f2937;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .menu-item-btn:hover {
            background-color: #e5e7eb;
        }
        .quiz-choice-btn {
            width: 100%;
            text-align: left;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 2px solid #e5e7eb;
            transition: 0.2s;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        .quiz-choice-btn:hover {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .correct {
            border-color: #10b981 !important;
            background-color: #ecfdf5 !important;
            color: #065f46;
        }
        .incorrect {
            border-color: #ef4444 !important;
            background-color: #fef2f2 !important;
            color: #991b1b;
        }
        .step-list {
            text-align: left;
            list-style: none;
            padding: 0;
            margin-top: 1rem;
        }
        .step-list li {
            background-color: #eff6ff;
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-radius: 0.5rem;
            font-weight: 600;
            border-left: 5px solid #3b82f6;
        }
        .step-list li strong {
            display: inline-block;
            width: 1.5rem;
            text-align: center;
            margin-right: 0.5rem;
            color: #1e40af;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

<div id="app" class="container">
    <h1 class="text-3xl font-bold mb-8 text-blue-600">メモ帳</h1>

    <div id="difficulty-select" class="space-y-4">
        <h2 class="text-2xl font-semibold mb-4">担当を選択してください</h2>
        <div class="flex flex-col space-y-4 max-w-sm mx-auto">
            <button id="single-star-btn" class="btn-base btn-primary">刺し場</button>
            <button id="double-star-btn" class="btn-base btn-primary">揚げ場</button>
            <button id="triple-star-btn" class="btn-base btn-primary">焼き場 (クイズ)</button>
        </div>
    </div>

    <div id="menu-list-screen" class="hidden text-left">
        <h2 id="menu-list-heading" class="text-2xl font-semibold mb-6 text-center text-blue-500"></h2>
        <div id="menu-options-area" class="space-y-2"></div>
        <button id="back-to-difficulty-btn" class="mt-8 btn-base btn-secondary w-full">戻る</button>
    </div>

    <div id="procedure-screen" class="hidden text-left">
        <h3 id="procedure-name" class="text-2xl font-bold mb-4 text-center"></h3>
        <div id="procedure-content-area"></div>
        <button id="back-to-menu-list-btn" class="mt-8 btn-base btn-primary w-full">メニューリストに戻る</button>
    </div>

    <div id="quiz-screen" class="hidden text-left">
        <h3 id="quiz-item-name" class="text-2xl font-bold mb-2 text-center text-orange-600"></h3>
        <p class="text-center text-gray-500 mb-6 font-semibold">正しい味付け・仕上げを選んでください</p>
        <div id="quiz-choices-area" class="space-y-3"></div>
        <div id="quiz-feedback" class="mt-4 text-center font-bold text-lg hidden"></div>
        <button id="next-from-quiz-btn" class="mt-8 btn-base btn-primary w-full hidden">メニューリストに戻る</button>
    </div>
</div>

<script>
    const quizzes = [
        // --- 刺し場 (single_star) ---
        { "difficulty": "single_star", "name": "枝豆", "type": "multiple_choice", "answer": '500W 2分 皿に盛り付けて塩をふる' },
        { "difficulty": "single_star", "name": "冷やしトマト", "type": "reordering", "steps": ['トマト１個を半分に切りヘタ部分を取り除く','トマトを６等分に切る','マヨネーズとサラダを添える'] },
        { "difficulty": "single_star", "name": "たこわさ", "type": "multiple_choice", "answer": '器に半分にした大葉を敷く + たこわさ(30g)を盛り付け' },
        { "difficulty": "single_star", "name": "梅クラゲ", "type": "multiple_choice", "answer": '器に半分にした大葉を敷く + 梅クラゲ(30g)を盛り付け' },
        { "difficulty": "single_star", "name": "チャンジャ", "type": "multiple_choice", "answer": '器に半分にした大葉を敷く + チャンジャ(30g)を盛り付け + ネギをかける' },
        { "difficulty": "single_star", "name": "かわぽん", "type": "reordering", "steps": ['皿に大葉を敷く', 'オニスラ', 'とりかわを盛りつけ', 'ネギと大根おろし','ポン酢'] },
        { "difficulty": "single_star", "name": "ささぽん", "type": "reordering", "steps": ['皿に大葉を敷く', 'オニスラ', 'ささみを盛りつけ', 'ネギと大根おろし','ポン酢'] },
        { "difficulty": "single_star", "name": "無限ピーマン", "type": "multiple_choice", "answer": 'ごま油 + 塩 + 塩昆布 + 白ごま' },
        { "difficulty": "single_star", "name": "漬物盛合せ", "type": "multiple_choice", "answer": 'たくあん30g + かっぱ30g + しば漬け30g' },
        { "difficulty": "single_star", "name": "長芋わさび", "type": "multiple_choice", "answer": '器に長いもを80g盛る + 刻みのりを乗せる' },
        { "difficulty": "single_star", "name": "たたききゅうり", "type": "reordering", "steps": ['皿にたたききゅうりを盛る', 'しおだれをかける', 'ゴマ'] },
        { "difficulty": "single_star", "name": "とりのたたき", "type": "reordering", "steps": ['器にオニスラを盛る', '大葉を乗せる', 'たたきを並べる', '皿にネギ、しょうがを添える'] },
        { "difficulty": "single_star", "name": "鶏わさび和え", "type": "reordering", "steps": ['皿に大葉を乗せる','オニスラを盛る' , 'ユッケ60Gとわさびと醤油混ぜて盛り付け','のり ひとつまみかける'] },
        { "difficulty": "single_star", "name": "鶏梅肉和え", "type": "reordering", "steps": ['皿に大葉を乗せる','オニスラを盛る' , 'ユッケ60Gと梅肉を混ぜて盛り付ける','のり ひとつまみかける'] },
        { "difficulty": "single_star", "name": "鶏ユッケ", "type": "reordering", "steps": ['皿に大葉を乗せる','オニスラを盛る' , 'ユッケ60g盛る', 'ユッケタレをかける','生うずら','ネギと白ごまをかける'] },
        { "difficulty": "single_star", "name": "出汁巻きたまご", "type": "multiple_choice", "answer": '600W 4分 皿の笹葉の上に盛り付けて おろし大根 〆' },
        { "difficulty": "single_star", "name": "蒸し鶏サラダ", "type": "multiple_choice", "answer": 'サラダベースにささみ４個、５個 胡麻ドレッシング〆' },
        { "difficulty": "single_star", "name": "チョレギサラダ", "type": "multiple_choice", "answer": 'サラダベースに白ネギ チョレギドレッシング のり 〆' },
        { "difficulty": "single_star", "name": "豆腐と塩昆布のサラダ", "type": "multiple_choice", "answer": 'サラダベースに4等分の豆腐と塩昆布と 和風ドレッシング かつお節 〆' },
        { "difficulty": "single_star", "name": "温玉シーザーサラダ", "type": "multiple_choice", "answer": 'サラダベースに中心にくぼみをつくり温玉１個、粉チーズかけて シーザードレッシング〆' },

        // --- 揚げ場 (double_star) ---
        { "difficulty": "double_star", "name": "ポテトフライ", "type": "multiple_choice", "answer": "2分30秒間揚げる + 天紙 + 塩 + ケチャップ" },
        { "difficulty": "double_star", "name": "さつまバター", "type": "multiple_choice", "answer": '4分間揚げる + バター + ハチミツ + パセリ' },
        { "difficulty": "double_star", "name": "もろこし唐揚げ", "type": "multiple_choice", "answer": '3分間揚げる + 塩 + 天紙 + パセリ' },
        { "difficulty": "double_star", "name": "名古屋風手羽先唐揚げ", "type": "multiple_choice", "answer": '片栗粉 5分間揚げる + キャベツ + 手羽タレ + コショウ + 白ごま' },
        { "difficulty": "double_star", "name": "なんこつ唐揚げ", "type": "multiple_choice", "answer": "唐揚げ粉 + 2分間揚げる + 天紙 + レモン" },
        { "difficulty": "double_star", "name": "かわパリ", "type": "multiple_choice", "answer": "小麦粉+唐揚げ粉 + 2分間揚げる + 天紙 + レモン" },
        { "difficulty": "double_star", "name": "じゃこ天", "type": "multiple_choice", "answer": "両面3分間揚げる + 天紙 + ネギ、しょうが" },
        { "difficulty": "double_star", "name": "若鶏のからあげ", "type": "multiple_choice", "answer": "片栗粉 + 5分間揚げる + サラダ + レモン + マヨネーズ" },
        { "difficulty": "double_star", "name": "チキン南蛮", "type": "multiple_choice", "answer": "5分間揚げる + サラダ + レモン + タルタル + 南蛮酢 + パセリ" },

        // --- 焼き場 (triple_star) --- ※クイズ形式
        { 
            "difficulty": "triple_star", 
            "name": "レタス巻き", 
            "answer": '塩コショウ',
            "dummies": ['タレ', 'ポン酢','梅肉','焼き肉のタレ','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "ヤンコン巻き", 
            "answer": '塩コショウ',
            "dummies": ['タレ', 'ポン酢','梅肉','焼き肉のタレ','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "えのき巻き", 
            "answer": 'ポン酢',
            "dummies": ['塩コショウ', 'タレ','梅肉','焼き肉のタレ','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "うずら巻き", 
            "answer": 'タレ',
            "dummies": ['塩コショウ','ポン酢','梅肉','焼き肉のタレ','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "里芋巻き", 
            "answer": '塩コショウ',
            "dummies": ['タレ', 'ポン酢','梅肉','焼き肉のタレ','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "大葉巻き", 
            "answer": '梅肉',
            "dummies": ['塩コショウ', 'タレ', 'ポン酢','焼き肉のタレ','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "アスパラ巻き", 
            "answer": '塩コショウ',
            "dummies": ['タレ', 'ポン酢','梅肉','焼き肉のタレ','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "トマトチーズ巻き", 
            "answer": 'バジル',
            "dummies": ['塩コショウ', 'タレ', 'ポン酢','梅肉','焼き肉のタレ','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "なすチーズ巻き", 
            "answer": 'タレ',
            "dummies": ['塩コショウ','ポン酢','梅肉','焼き肉のタレ','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "白ネギ巻き", 
            "answer": 'タレ',
            "dummies": ['塩コショウ','ポン酢','梅肉','焼き肉のタレ','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "にんにくの芽巻き", 
            "answer": '焼き肉のタレ',
            "dummies": ['塩コショウ', 'タレ', 'ポン酢','梅肉','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "モッツァレラチーズ巻き", 
            "answer": 'タレ',
            "dummies": ['塩コショウ','ポン酢','梅肉','焼き肉のタレ','バジル','明太マヨ']
        },
        { 
            "difficulty": "triple_star", 
            "name": "長芋明太マヨ巻き", 
            "answer": '明太マヨ',
            "dummies": ['塩コショウ', 'タレ', 'ポン酢','梅肉','焼き肉のタレ','バジル']
        }
    ];

    let currentDifficulty = '';

    const difficultySelectEl = document.getElementById('difficulty-select');
    const menuListScreenEl = document.getElementById('menu-list-screen');
    const procedureScreenEl = document.getElementById('procedure-screen');
    const quizScreenEl = document.getElementById('quiz-screen');
    const menuListHeadingEl = document.getElementById('menu-list-heading');
    const menuOptionsAreaEl = document.getElementById('menu-options-area');
    const procedureNameEl = document.getElementById('procedure-name');
    const procedureContentAreaEl = document.getElementById('procedure-content-area');
    
    function showScreen(screenId) {
        [difficultySelectEl, menuListScreenEl, procedureScreenEl, quizScreenEl].forEach(el => {
            el.classList.add('hidden');
        });
        document.getElementById(screenId).classList.remove('hidden');
    }

    function setupEventListeners() {
        document.getElementById('single-star-btn').onclick = () => { currentDifficulty = 'single_star'; renderMenuList(); };
        document.getElementById('double-star-btn').onclick = () => { currentDifficulty = 'double_star'; renderMenuList(); };
        document.getElementById('triple-star-btn').onclick = () => { currentDifficulty = 'triple_star'; renderMenuList(); };
        
        document.getElementById('back-to-difficulty-btn').onclick = () => {
             currentDifficulty = '';
             showScreen('difficulty-select');
        };

        document.getElementById('back-to-menu-list-btn').onclick = () => renderMenuList();
        document.getElementById('next-from-quiz-btn').onclick = () => renderMenuList();
    }

    function renderMenuList() {
        menuOptionsAreaEl.innerHTML = '';
        const filteredQuizzes = quizzes.filter(q => q.difficulty === currentDifficulty);
        const names = { 'single_star': '刺し場', 'double_star': '揚げ場', 'triple_star': '焼き場' };
        menuListHeadingEl.textContent = `${names[currentDifficulty]}のメニュー`;

        filteredQuizzes.forEach(quiz => {
            const button = document.createElement('button');
            button.textContent = quiz.name;
            button.className = 'btn-base menu-item-btn';
            button.onclick = () => showDetail(quiz);
            menuOptionsAreaEl.appendChild(button);
        });
        showScreen('menu-list-screen');
    }

    function showDetail(quiz) {
        if (quiz.difficulty === 'triple_star') {
            startQuiz(quiz);
        } else {
            showProcedure(quiz);
        }
    }

    function showProcedure(quiz) {
        procedureNameEl.textContent = quiz.name;
        procedureContentAreaEl.innerHTML = '';

        if (quiz.type === 'multiple_choice') {
            const answer = document.createElement('p');
            answer.className = 'text-xl p-4 bg-green-50 text-green-700 font-bold rounded-lg border-2 border-green-300';
            answer.textContent = quiz.answer;
            procedureContentAreaEl.appendChild(answer);
        } else if (quiz.type === 'reordering') {
            const ol = document.createElement('ol');
            ol.className = 'step-list';
            quiz.steps.forEach((step, index) => {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${index + 1}.</strong> ${step}`;
                ol.appendChild(li);
            });
            procedureContentAreaEl.appendChild(ol);
        }
        showScreen('procedure-screen');
    }

    function startQuiz(quiz) {
        document.getElementById('quiz-item-name').textContent = quiz.name;
        const area = document.getElementById('quiz-choices-area');
        const feedback = document.getElementById('quiz-feedback');
        const nextBtn = document.getElementById('next-from-quiz-btn');
        area.innerHTML = '';
        feedback.classList.add('hidden');
        nextBtn.classList.add('hidden');

        const choices = [quiz.answer, ...quiz.dummies].sort(() => Math.random() - 0.5);

        choices.forEach(choice => {
            const btn = document.createElement('button');
            btn.className = 'quiz-choice-btn';
            btn.textContent = choice;
            btn.onclick = () => {
                if (choice === quiz.answer) {
                    btn.classList.add('correct');
                    feedback.textContent = "正解！⭕";
                    feedback.className = "mt-4 text-center font-bold text-lg text-green-600";
                    feedback.classList.remove('hidden');
                    nextBtn.classList.remove('hidden');
                    Array.from(area.children).forEach(b => b.disabled = true);
                } else {
                    btn.classList.add('incorrect');
                    feedback.textContent = "不正解！❌";
                    feedback.className = "mt-4 text-center font-bold text-lg text-red-600";
                    feedback.classList.remove('hidden');
                }
            };
            area.appendChild(btn);
        });
        showScreen('quiz-screen');
    }

    document.addEventListener('DOMContentLoaded', () => {
        setupEventListeners();
        showScreen('difficulty-select');
    });
</script>

</body>
</html>
